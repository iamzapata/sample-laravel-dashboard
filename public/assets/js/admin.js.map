{"version":3,"sources":["utils.js","user.js","views.js","router.js","admin.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/KA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"admin.js","sourcesContent":["/**\n * Get partial views from server.\n */\nvar DashboardPartial = (function(){\n\n    var _getPartialView = function () {\n\n        return $.ajax({\n            url: _url,\n            async: true,\n        });\n\n    };\n\n    return  {\n        get: function (url) {\n            _url = url;\n            return _getPartialView();\n        }\n\n    };\n\n}());\n\n/**\n * Make ajax calls to server,\n * specifying type (POST,GET, etc), url, and\n * data submitted.\n */\nvar ServerCall = (function (){\n\n    var _sendRequest = function(type, url, data) {\n\n        return $.ajax({\n            type: type,\n            url: url,\n            data: data,\n            async: true\n\n        });\n    };\n\n    return {\n        request: function(type, url, data) {\n            console.log(url);\n            return _sendRequest(type, url, data);\n        }\n    };\n\n}());\n\n\n\n/**\n * Display errors.\n */\nvar ServerError = (function (response) {\n\n    var defaultMessage = 'There seems to be a problem with the server,' +\n        'please try again or contact support if problem persists.';\n\n    var message = response.responseJSON.error || defaultMessage;\n\n    return swal({title: \"Whoops!\",\n            text: message,\n            type: \"error\",\n            confirmButtonColor: \"#DA4453\",\n            confirmButtonText: \"Ok\"},\n        function(){\n            window.location.href = 'admin/dashboard';\n        });\n\n});\n\n/**\n * Filter tables with any text.\n */\nvar TableFilter = (function () {\n\n    var _caseInsensitiveContains = function () {\n\n        // Case insensitive alternative to jquery contains.\n        jQuery.expr[':'].Contains = function(a, i, m) {\n            return jQuery(a).text().toUpperCase().indexOf(m[3].toUpperCase()) >= 0;\n        };\n\n    };\n\n    var _initFilter = function (inputSelector) {\n\n        $(inputSelector).keyup(function () {\n            //split the current value of searchInput\n            var data = this.value.split(\" \");\n            //create a jquery object of the rows\n            var rowObject = $(\"tbody\").find(\"tr\");\n            if (this.value == \"\") {\n                rowObject.show();\n                return;\n            }\n            //hide all the rows\n            rowObject.hide();\n\n            //Recursively filter the jquery object to get results.\n            rowObject.filter(function (i, v) {\n                var $t = $(this);\n                for (var d = 0; d < data.length; ++d) {\n                    if ($t.is(\":Contains('\" + data[d] + \"')\")) {\n                        return true;\n                    }\n                }\n                return false;\n            })\n                //show the rows that match.\n                .show();\n        }).focus(function () {\n            this.value = \"\";\n            $(this).css({\n                \"color\": \"black\"\n            });\n            $(this).unbind('focus');\n        }).css({\n            \"color\": \"#C0C0C0\"\n        });\n\n    };\n\n    return {\n        init: function (inputSelector) {\n            _caseInsensitiveContains();\n            _initFilter(inputSelector);\n        }\n    };\n\n}());\n\n/*\n * This function serializes input.\n */\nvar objectSerialize = (function (input) {\n    return _(input).reduce(function(acc, field) {\n        acc[field.name] = field.value;\n        return acc;\n    },{});\n});\n\n/*\n * This function grabs all input fields from the given form with id.\n */\nvar input = (function(id) {\n    return $(id).serializeArray();\n});\n\n/*\n * This function assigns validation errors returnedwith ajax response to corresponding form field.\n */\nvar assignErrorToField = (function (error, key) {\n    var field = $('[name='+key+']') ;\n\n    $(field).next('.validation-error').html(error);\n});\n\n/*\n *Loops through validation errors and calls function that renders them.\n */\nvar showErrors = (function (response) {\n\n    $('.validation-error').text('');\n\n    var errors = response.responseJSON;\n\n    _.each(errors, function(num, key) {\n        assignErrorToField(num, key);\n    });\n\n});\n","/**\n * User Model\n */\nvar User = Backbone.Model.extend({\n    urlRoot: 'users'       \n});\n","/**\n * Parent View\n *\n * All other views render inside this container.\n */\nvar ContainerView = Backbone.View.extend({\n\n    // Container for dashboard partials.\n    ChildView: null,\n\n    render: function() {\n        if(this.ChildView) {\n            this.$el.html(this.ChildView.$el);\n            this.ChildView.delegateEvents();\n            return this;\n        }\n    }\n});\n\n/**\n * Return admin accounts view.\n */\nvar AdminAccountsView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route; // eg. /admin/dashboard/accounts.\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return application's users view.\n */\nvar UsersView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return system notifications view.\n */\nvar SystemNotificationsView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return users subscription plans view.\n */\nvar PlansView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return plant library view.\n */\nvar PlantLibraryView = Backbone.View.extend({\n\n        initialize: function(ob) {\n            var url = ob.route;\n            this.render(url);\n        },\n\n        render: function(url) {\n            var self = this;\n\n            DashboardPartial.get(url).done(function(partial){\n                self.$el.html(partial);\n\n            }).error(function(partial) {\n                ServerError();\n            });\n\n            return self;\n        }\n    });\n\n/**\n * Return show single plant view.\n */\nvar ShowPlantView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return create plant view.\n */\nvar CreatePlantView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return edit plant view.\n */\nvar EditPlantView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/*\n * Return edit user view.\n */\nvar EditUserView = Backbone.View.extend({\n    events: {\n        'click #update':'update'\n    },\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n        this.model = ob.model;\n    },\n\n    update: function(e) {\n        e.preventDefault();\n        var data = objectSerialize(input('#form'));\n\n        this.model.save(data,{\n            wait: true,\n            type: 'PUT',\n            success: function(model, response) {\n                swal({\n                        title: 'User Updated!',\n                        text: 'The user was successfully updated.',\n                        type: 'success',\n                        confirmButtonColor: \"#8DC53E\",\n                        confirmButtonText: \"Ok\"\n                     },\n\n                     function() {\n                        AppRouter.navigate('users',{trigger:true});\n                });\n            },\n\n            error: function(model, response) {\n                showErrors(response);\n            }\n        });\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return culinary plants library.\n */\nvar CulinaryPlantLibraryView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return pest library view.\n */\nvar PestLibraryView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return procedure library view.\n */\nvar ProcedureLibraryView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return website pages view.\n */\nvar WebsitePagesView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return categories view.\n */\nvar CategoriesView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return journal entries view.\n */\nvar JournalView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return glossary words view.\n */\nvar GlossaryView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return links\n */\nvar LinksView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return user's suggestions messages view.\n */\nvar UserSuggestionsView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return what's this messages view.\n */\nvar WhatsThisView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return general messages out.\n */\nvar GeneralMessagesView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return payment api settings view.\n */\nvar PaymentConnectorView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return outbound api's connections settings view.\n */\nvar ApisConnectionView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return admin dashboard profile view.\n */\nvar AdminProfileView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n\n/**\n * Return admin dashboard settings view.\n */\nvar AdminDashboardSettingsView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            ServerError();\n        });\n\n        return self;\n    }\n});\n","/* resources/src/routers/app-router.js */\n\n/**\n * Application Main Router\n */\nvar Router = Backbone.Router.extend({\n\n    // Base url for backend service.\n    baseUrl: '/admin/dashboard/',\n\n    // Parent container\n    container: null,\n\n    // Child views containers\n    accountsView: null,\n    usersView: null,\n    systemNotificationsView: null,\n    plansView: null,\n    /* Plants */\n    plantLibraryView: null,\n    plantShowView: null,\n    plantAddView: null,\n    plantEditView: null,\n    /* Users */\n    userEditView: null,\n    /* Culinary Plants */\n    culinaryPlantLibraryView: null,\n    procedureLibraryView: null,\n    pestLibraryView: null,\n    websitePagesView: null,\n    categoriesView: null,\n    journalView: null,\n    glossaryView: null,\n    linksView: null,\n    userSuggestionsView: null,\n    whatsThisView: null,\n    generalMessagesView: null,\n    paymentConnectionView: null,\n    apisConnectionView: null,\n    adminProfileView: null,\n    adminDashboardSettingsView: null,\n\n    initialize: function() {\n        this.bindGlobalEvents(); // All admin dashboard bindings should go here.\n        this.container = new ContainerView({ el: CONTAINER_ELEMENT }); // Create view parent container.\n    },\n\n    // Definition of global event bindings.\n    bindGlobalEvents: function() {\n        $('body').on('click', '.menu-toggle.sidebar-close', this.bindSidebarClose);\n        $('body').on('click', '.menu-toggle.sidebar-open', this.bindSidebarOpen);\n        $('body').on('click', '.sidebar-nav li', this.bindSidebarItems);\n    },\n\n    // Application routes.\n    routes: {\n        \"accounts\": \"showAccounts\",\n        \"users\": \"showUsers\",\n        \"users?page:num\": \"showUsers\",\n        \"users/:id/edit\": \"editUser\",\n        \"system-notifications\": \"showSystemNotifications\",\n        \"plans\": \"showPlans\",\n        // Plants Routes\n        \"plants\": \"showPlantLibrary\",\n        \"plants/create\": \"createPlant\",\n        \"plants/:id/edit\": \"editPlant\",\n        \"plants/:id/delete\": \"deletePlant\",\n        \"plants/:id\": \"showPlant\",\n        // Culinary Routes View\n        \"culinary-plants\": \"showCulinaryPlantLibrary\",\n        \"pests\": \"showPestLibrary\",\n        \"procedures\": \"showProcedureLibrary\",\n        \"pages\": \"showWebsitePages\",\n        \"categories\": \"showCategories\",\n        \"journals\": \"showJournal\",\n        \"glossary\": \"showGlossary\",\n        \"links\": \"showLinks\",\n        \"user-suggestions\": \"showUserSuggestions\",\n        \"whats-this\": \"showWhatsThis\",\n        \"general-messages\": \"showGeneralMessages\",\n        \"payment-connection\": \"showPaymentConnector\",\n        \"apis-connection\": \"showApisConnection\",\n        \"profile\": \"showAdminProfile\",\n        \"settings\": \"showAdminDashboardSettings\",\n        \"logout\": \"adminLogout\"\n\n    },\n\n    /**\n     * Admin user accounts\n     */\n    showAccounts: function () {\n        var url = Backbone.history.location.hash.substr(1); // url part after hash e.g #accounts\n        this.accountsView = new AdminAccountsView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.accountsView;\n        this.container.render();\n    },\n\n    /**\n     * Application users list.\n     */\n    showUsers: function () {\n        var url = Backbone.history.location.hash.substr(1);\n        this.usersView = new UsersView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.usersView;\n        this.container.render();\n    },\n\n\n    /**\n     * System notifications\n     */\n    showSystemNotifications: function () {\n        var url = Backbone.history.location.hash.substr(1);\n        this.systemNotificationsView = new SystemNotificationsView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.systemNotificationsView;\n        this.container.render();\n    },\n\n    /**\n     * User subscription plans\n     */\n    showPlans: function () {\n        var url = Backbone.history.location.hash.substr(1);\n        this.plansView = new PlansView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.plansView;\n        this.container.render();\n    },\n\n    /**\n     * User management\n     */\n    editUser: function() {\n        var url = Backbone.history.location.hash.substr(1);\n        var model = new User();\n\n        this.userEditView = new EditUserView({ model: model, route: this.baseUrl + url });\n\n        this.container.ChildView = this.userEditView;\n        this.container.render();\n    },\n\n    /**\n     * Plant library.\n     */\n    showPlantLibrary: function () {\n        var url = Backbone.history.location.hash.substr(1);\n        this.plantLibraryView = new PlantLibraryView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.plantLibraryView;\n        this.container.render();\n    },\n\n    showPlant: function() {\n        var url = Backbone.history.location.hash.substr(1);\n        this.plantShowView = new ShowPlantView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.plantShowView;\n        this.container.render();\n    },\n\n    createPlant: function() {\n        var url = Backbone.history.location.hash.substr(1);\n        this.plantCreateView = new CreatePlantView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.plantCreateView;\n        this.container.render();\n    },\n\n    editPlant: function() {\n        var url = Backbone.history.location.hash.substr(1);\n        this.plantEditView = new EditPlantView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.plantEditView;\n        this.container.render();\n    },\n\n    deletePlant: function() {\n        alert('delete plant');\n    },\n\n    /**\n     * Culinary plant library\n     */\n    showCulinaryPlantLibrary: function () {\n        var url = Backbone.history.location.hash.substr(1);\n        this.culinaryPlantLibraryView = new CulinaryPlantLibraryView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.culinaryPlantLibraryView;\n        this.container.render();\n    },\n\n    /**\n     * Pest library\n     */\n    showPestLibrary: function () {\n        var url = Backbone.history.location.hash.substr(1);\n        this.pestLibraryView = new PestLibraryView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.pestLibraryView;\n        this.container.render();\n    },\n\n    /**\n     * Procedure library\n     */\n    showProcedureLibrary: function () {\n        var url = Backbone.history.location.hash.substr(1);\n        this.procedureLibraryView = new ProcedureLibraryView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.procedureLibraryView;\n        this.container.render();\n    },\n\n    /**\n     * Webiste pages\n     */\n    showWebsitePages: function () {\n        var url = Backbone.history.location.hash.substr(1);\n        this.websitePagesView = new WebsitePagesView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.websitePagesView;\n        this.container.render();\n    },\n\n    /**\n     * Categories\n     */\n    showCategories: function () {\n        var url = Backbone.history.location.hash.substr(1);\n        this.categoriesView = new CategoriesView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.categoriesView;\n        this.container.render();\n    },\n\n    /**\n     * Journal\n     */\n    showJournal: function () {\n        var url = Backbone.history.location.hash.substr(1);\n        this.journalView = new JournalView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.journalView;\n        this.container.render();\n    },\n\n    /**\n     * Glossary\n     */\n    showGlossary: function () {\n        var url = Backbone.history.location.hash.substr(1); // url part after hash e.g #accounts\n        this.glossaryView = new GlossaryView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.glossaryView;\n        this.container.render();\n    },\n\n    /**\n     * Links\n     */\n    showLinks: function () {\n        var url = Backbone.history.location.hash.substr(1); // url part after hash e.g #accounts\n        this.linksView = new LinksView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.linksView;\n        this.container.render();\n    },\n\n    /**\n     * User Suggestions\n     */\n    showUserSuggestions: function () {\n        var url = Backbone.history.location.hash.substr(1); // url part after hash e.g #accounts\n        this.userSuggestionsView = new UserSuggestionsView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.userSuggestionsView;\n        this.container.render();\n    },\n\n    /**\n     * What's this\n     */\n    showWhatsThis: function () {\n        var url = Backbone.history.location.hash.substr(1); // url part after hash e.g #accounts\n        this.whatsThisView = new WhatsThisView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.whatsThisView;\n        this.container.render();\n    },\n\n    /**\n     * General messages out.\n     */\n    showGeneralMessages: function () {\n        var url = Backbone.history.location.hash.substr(1); // url part after hash e.g #accounts\n        this.generalMessagesView = new GeneralMessagesView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.generalMessagesView;\n        this.container.render();\n    },\n\n    /**\n     * Payment connection api\n     */\n    showPaymentConnector: function () {\n        var url = Backbone.history.location.hash.substr(1); // url part after hash e.g #accounts\n        this.paymentConnectionView = new PaymentConnectorView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.paymentConnectionView;\n        this.container.render();\n    },\n\n    /**\n     * Outbound api's connection\n     */\n    showApisConnection: function () {\n        var url = Backbone.history.location.hash.substr(1); // url part after hash e.g #accounts\n        this.apisConnectionView = new ApisConnectionView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.apisConnectionView;\n        this.container.render();\n    },\n\n    /**\n     * Admin profile\n     */\n    showAdminProfile: function () {\n        var url = Backbone.history.location.hash.substr(1); // url part after hash e.g #accounts\n        this.adminProfileView = new AdminProfileView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.adminProfileView;\n        this.container.render();\n    },\n\n    /**\n     * Admin dashboard settings\n     */\n    showAdminDashboardSettings: function () {\n        var url = Backbone.history.location.hash.substr(1); // url part after hash e.g #accounts\n        this.adminDashboardSettingsView = new AdminDashboardSettingsView({ route: this.baseUrl + url });\n\n        this.container.ChildView = this.adminDashboardSettingsView;\n        this.container.render();\n    },\n\n    adminLogout: function () {\n\n        ServerCall.request('GET', '/admin/dashboard/logout', '').success( function() {\n\n            $(location).attr('href','/admin/login');\n            //$(location).prop('pathname', '/admin/dashboard/login');\n\n        })\n\n    },\n\n    /*****************************\n     * Definition of global events\n     ******************************/\n\n    // Hide left arrow/ Show right arrow\n    bindSidebarClose: function(e) {\n        e.preventDefault();\n        $(\"#menu-sidebar\").hide();\n        $(this).hide();\n        $(\".sidebar-open\").show();\n    },\n\n    // Hide right arrow/ Show left arrow\n    bindSidebarOpen: function (e) {\n        e.preventDefault();\n        $(\"#menu-sidebar\").show();\n        $(this).hide();\n        $(\".sidebar-close\").show();\n    },\n\n    // Add active class to selected menu item.\n    bindSidebarItems: function(e) {\n        $(\".sidebar-nav li\").removeClass('sidebar-menu-item-active')\n        $(this).addClass('sidebar-menu-item-active');\n    }\n\n});\n","\n(function(exports, $){\n\n    //document ready\n    $(function(){\n\n        /**\n         *\n         * Globals\n\n         */\n\n        WINDOW = $(window);\n        DOCUMENT = $(document);\n        BODY   = $('body');\n        CONTAINER_ELEMENT = $(\"#body-container\");\n\n        /**\n         * Initializes de app's Routes Controller.\n         *\n         */\n        AppRouter = new Router();\n\n        /**\n         * Start Backbone url history.\n         *\n         */\n        Backbone.history.start();\n\n    });\n\n}(this, jQuery));\n"],"sourceRoot":"/source/"}