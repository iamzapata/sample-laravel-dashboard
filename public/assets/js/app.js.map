{"version":3,"sources":["utils.js","views.js","router.js","app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["/**\n * Get partial views from server.\n */\nvar DashboardPartial = (function(){\n\n    var _getPartialView = function () {\n\n        return $.ajax({\n            url: _baseUrl + _url,\n            async: true,\n        });\n\n    };\n\n    return  {\n        get: function (url) {\n            _url = url;\n            _baseUrl = '/dashboard/';\n            return _getPartialView();\n        }\n\n    };\n\n}());\n\n\n/**\n * Display errors.\n */\nvar serverError = (function (response) {\n\n    var defaultMessage = 'There seems to be a problem with the server,' +\n        'please try again or contact support if problem persists.';\n\n    var message = response.responseJSON.error || defaultMessage;\n\n    return swal({title: \"Whoops!\",\n            text: message,\n            type: \"error\",\n            confirmButtonColor: \"#DA4453\",\n            confirmButtonText: \"Ok\"},\n        function(){\n            window.location.href = '/dashboard';\n        });\n\n});","/**\n * Parent View\n *\n * All other views render inside this container.\n */\nvar ContainerView = Backbone.View.extend({\n    ChildView: null,\n\n    render: function() {\n        this.$el.html(this.ChildView.$el);\n        this.ChildView.delegateEvents();\n        return this;\n    }\n});\n\n/**\n * Return Dashboard View.\n */\nvar SettingsView = Backbone.View.extend({\n\n    initialize: function(ob) {\n        var url = ob.route;\n        this.render(url);\n    },\n\n    render: function(url) {\n        var self = this;\n\n        DashboardPartial.get(url).done(function(partial){\n            self.$el.html(partial);\n\n        }).error(function(partial) {\n            serverError();\n        });\n\n        return self;\n    }\n});","/* resources/src/routers/app-router.js */\n\n/**\n * Application Main Router\n */\nvar Router = Backbone.Router.extend({\n\n    container: null,\n    settingsView: null,\n\n    initialize: function() {\n        this.container = new ContainerView({ el: CONTAINER_ELEMENT });\n    },\n\n    routes: {\n        \"settings\": \"showSettings\",\n    },\n\n    /**\n     * Default dashboard view.\n     */\n    showSettings: function () {\n        var url = Backbone.history.location.hash.substr(1);\n        this.settingsView = new SettingsView({ route: url });\n\n        this.container.ChildView = this.settingsView;\n        this.container.render();\n    },\n\n});\n","\n(function(exports, $){\n\n    //document ready\n    $(function(){\n\n        /**\n         *\n         * Globals\n\n         */\n\n        WINDOW = $(window);\n        DOCUMENT = $(document);\n        BODY   = $('body');\n        CONTAINER_ELEMENT = $(\"#body-content\");\n\n        /**\n         * Initializes de app's Routes Controller.\n         *\n         */\n        AppRouter = new Router();\n\n        /**\n         * Start Backbone url history.\n         *\n         */\n        Backbone.history.start();\n\n    });\n\n}(this, jQuery));"],"sourceRoot":"/source/"}